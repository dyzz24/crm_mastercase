
<div class="template">
  <div class="template__list">
    <app-email-header
    (search_function) = 'this.search_in_templates($event)'
    [success_search] = 'this.succes_search_flag'
    [not_success_search] = 'this.not_succes_search_flag'
    (select_cancell_all_inputs) = 'select_cancell_inputs($event)'
    (filters_selected) = 'filters_select_letter($event)'
    >
  </app-email-header>
    <div class="template_settings">
        <button  type='button'
        title="Сделать избранными"
        (click) = 'this.important_all_letter()'
        >
            <span class='la la-exclamation'></span>
          </button>
          <button  type='button'
        title="Удалить"
        (click) = 'this.delete_all_letter()'
        >
            <span class='la la-trash-o'></span>
          </button>
          
    </div>
    <div class="wrapper" *ngIf="this.not_succes_search_flag === false; else search_not_found">
    <div class="list__prev" *ngFor="let letter of draft_list, let i = index"
    
    routerLinkActive = 'active_template'
    
    [ngClass]="{checkbox_selected: this.selected_checkbox_for_html[i]}"
    [class.favorite_template] = 'letter.flagged'
    >
    <input type="checkbox"  id='my_id{{letter.draft_id}}' class='avatar_checkboxes hidden_checkbox' (change)='select_letter($event, i, letter.draft_id)'>
      <label for='my_id{{letter.draft_id}}' class="checkbox_block"></label>
      <div class="setting_and_txt_group"
      routerLink="./create"
      [queryParams] = "{'id':letter.draft_id, 'status':'template'}"
      >
      <div class="text_info">{{letter.title}}</div>
      <input type="checkbox" name='settings_inputs_group'  id=sett_{{letter.draft_id}} class='settings_checkbox hidden_checkbox'
      (change) = 'cancell_checked($event, i)'
      >
      <div class="hidden_settings">
        <button class='hidden_settings__btn'
        (click) = 'delete_one_tmp(letter.draft_id, $event, i)'
        >Удалить</button>

        <button class='hidden_settings__btn'
        (click) = 'favorite_tmp(letter.draft_id, letter.flagged, i)'
        *ngIf="!letter.flagged"
        >Добавить в избранное</button>

        <button class='hidden_settings__btn'
        (click) = 'favorite_tmp(letter.draft_id, letter.flagged, i)'
        *ngIf="letter.flagged"
        >Удалить из избранных</button>
      
      </div>
      <label class="setting" for="sett_{{letter.draft_id}}">
          <span class='la la-ellipsis-h'></span>
      </label>
      
      </div>
  </div>
</div>


<ng-template #search_not_found>
<p>Шаблоны не найдены</p>
</ng-template>


  </div>
  <app-splitter left min='100' max='500' positionLeft='-0.5'></app-splitter>
  <div class="template__container">
    <router-outlet></router-outlet>
  </div>
</div>
