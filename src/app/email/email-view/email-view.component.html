<div class="container__view">
  <div class="header_letter__view">
    <div class="group__one">
    <div class="left__panel">
        <button class='new__mess'>
            <span class='la la-new'></span>
            <p class="tooltip">Новое сообщение</p>
          </button>
          <button (click)='selectMess(-1)' class='arrow_group'>
              <span class='la la-last' ></span>
              <p class="tooltip">Следующее сообщение</p>
            </button>
              <button  (click)='selectMess(1)' class='arrow_group'>
                  <span class='la la-next'></span>
                  <p class="tooltip">Предыдущее сообщение</p>
                </button>
    </div>
    <div class="left__panel">
  <button class='menu'>
    <span class='la la-repl'></span>
    <p class="tooltip">Ответить</p>
</button>
<button class='menu'>
  <span class='la la-repl-all'></span>
  <p class="tooltip">Ответить всем</p>
</button>
<button class='menu'>
  <span class='la la-repl-return'></span>
  <p class="tooltip">Переслать</p>
</button>
    </div>
  <button class='menu' (click)='deleteLetter()'>
   <span class='la la-delete'></span>
  <p class="tooltip">Удалить сообщение</p>
  </button>
</div>
<div class="group__one">
    <div class="left__panel end">
      <button class='menu' (click)='hideMenuShow()'>
      <span class='la la-ellipsis'></span>
      <div class="hideMenu" [ngClass]='{visible: visibleMenu}'>
      </div>
      <p class="tooltip">Меню</p>
    </button>
  </div>
  <div class="left__panel end">
    <button class='close' (click)='closeViewer()'>
        <span class='la la-close'></span>
        <p class="tooltip">Закрыть</p>
      </button>
    </div>
  </div>
  </div>
  <div class="subject"><p class='subject__theme'>Тема: {{emailServ.selectedLetter.subject}}</p>
        <div class='who_in_work'>
          <p class='in_work'>Иванов Иван</p>
          <button>
              <span class='la la-print'></span>
              <p class="tooltip">Распечатать</p>
            </button>
        </div>
  </div>
  <div class="messageContainer" #messageContainer>


  <div class="mess__content">
    
    <div class="mess__content_body">
        <div class="mess__info">
          <div class="avatar__block">
            <div class="avatar">
              <!-- <img src={{emailServ.avatar}}> -->
              <p class='avatar__title'>{{this.emailServ.avatarMake(emailServ.selectedLetter.from_address)}}</p>
            </div>
          </div>
            <div class="r__info">
            <div class="panel">
              <div class='panel__name'>
                
                <p class='full_name' *ngIf="emailServ.selectedLetter.from_name !== null">{{emailServ.selectedLetter.from_name}}</p>
                <p class='email__name'>{{emailServ.selectedLetter.from_address}}</p>
              </div>
          <p class='time'>{{emailServ.selectedLetter.date | timerPipe}}</p>
            </div>
            <div class="info__row">
              <p class="info_head">Кому: </p>
              <div class="info__content__block">
              <p class='info__content_p' *ngIf="this.emailServ.selectedLetter.to_addresses.length ===1; else have_many_addresses">Вам</p>
              <ng-template #have_many_addresses>
              <p class='info__content_p' *ngFor="let item of this.emailServ.selectedLetter.to_addresses">{{item}}</p>
              </ng-template>
            </div>
            </div>
            <div class="info__row" *ngIf="this.emailServ.selectedLetter.cc_addresses !== null">
                <p class="info_head">Копия:</p>
                <div class="cut__visible_block">
                <p class='info__content_p' *ngFor="let item of this.emailServ.cut_cc_adressess_array">{{item}}</p>
                <input type='button' class='cc' [class.input_return]='this.emailServ.cut_cc_adressess_array.length === this.emailServ.selectedLetter.cc_addresses.length'
                *ngIf="this.emailServ.selectedLetter.cc_addresses.length > 3"
                (click)='all_view($event)' 
                value='+{{this.emailServ.selectedLetter.cc_addresses.length - this.emailServ.cut_cc_adressess_array.length}}'>
                </div>
            </div>
        </div>
          </div>
          <div class="attachment__block" >
            <div class="attach__container">
              <div class="attachment__item" *ngFor="let attach of this.attachersList; let i = index">
              <span [class]='attach.type | attachPipe'></span>
              <p class='filename'>{{attach.title}}
               
              </p>
              
              <p class='size'>{{attach.size}}</p>
               <p class="attach_tooltip">{{attach.title}}</p>
              </div>
              
            </div>
            <button class='download' >
                <span class='la la-download'></span>
                <p class="tooltip">Скачать всё</p>
              </button>
        
            </div>
    
    <div [innerHTML]="emailServ.selectedLetter.html | innerhtml" *ngIf="emailServ.selectedLetter.html !== null; else viewText" class='cont_html'></div>
    <ng-template #viewText >
    <div class='cont_html'>{{emailServ.selectedLetter.text}}</div>
  </ng-template>
    <div class="from__panel">
      <div class="from__line">
    <p class='from__head'>Кому: </p>
    <div class='li__'><p *ngFor="let mails of this.emailServ.mailsToArray; let i = index">{{mails}}<span class='la la-close' (click)='deleteAdress(i)'></span></p></div>
    <input type='email' placeholder="Добавьте имя" [(ngModel)]='this.nameFrom' (blur)='addFrom()'>
      </div>
      <div class="from__line">
        
    <p>От: {{emailServ.selectedLetter.to_address}}</p>
    </div>
    <div class="from__line theme">
      <p>Тема: </p>
      <input type='text' value='{{emailServ.selectedLetter.subject}}' [(ngModel)]='this.emailServ.subjectTo'>
    </div>
  </div>
    <quill-editor></quill-editor>
    <div class="bottom__panel">
    <button class='reply'>
        <span class='la la-reply'></span>
        Ответить
      </button>

      <button class='reply'>
          <span class='la la-end'></span>
          Ответить всем
        </button>
    </div>
  </div>
</div>
<div class="quickResponse">
  Быстрый ответ
</div>
</div>
</div>